---
title: '使用适配器模式,为图片加载框架解耦.'
date: 2016-11-28 16:54:20
tags: 设计模式
---
# 适配器模式
在安卓中最常见的适配器就是ListView/RecyclerView 的 adapter,这个adapter就是使用的适配器模式.
ListView/RecyclerView  ---------> Adapter -------------> Adapter具体的实现
<!-- more -->
适配器就是让程序面向的抽象而不是具体的实现
在日常开发中都会使用到图片的加载,这个时候往往都是使用第三方的框架,那么在使用第三方的框架的时候最好的做法就是在中间隔一层代码,这样就可以很方便后面替换代码,具体实现代码如下:

这是使用Google官方推荐图片库:Glide

``` java

public interface ImageLoader {

    /**
     * 加载网络图片
     * @param imageView 要显示图片的ImageView
     * @param imageUrl 图片的URL
     * @param options 加载图片的相关参数
     */
    void loadImage(Context context, ImageView imageView, String imageUrl, ImageLoaderOptions options);


    /**
     * 使用默认方式加载网络图片
     * @param context
     * @param imageView
     * @param imageUrl
     */
    void loadImage(Context context, ImageView imageView, String imageUrl);

    /**
     * 通过Uri加载图片
     * @param context
     * @param imageView
     * @param imageUri
     * @param options
     */
    void loadImage(Context context, ImageView imageView, Uri imageUri, ImageLoaderOptions options);

    /**
     * 使用默认的方式加载Uri图片
     * @param context
     * @param imageView
     * @param imageUri
     */
    void loadImage(Context context, ImageView imageView, Uri imageUri);

    class ImageLoaderOptions {
        /**
         * 图片加载中要显示的图片
         */
        public int loadingResId;

        /**
         * 图片加载出错要显示的图片
         */
        public int loadErrorResId;

        /**
         * 显示缩略图的比例
         */
        public int loadThumbnail;
    }

}

```
上面是适配器接口,具体的是适配器需要实现这个接口,

